<p-table
    [value]="products"
    [lazy]="true"
    dataKey="id"
    (onLazyLoad)="loadProducts($event)"
    [tableStyle]="{ 'min-width': '75rem' }"
    [selection]="selectedProducts"
    (selectionChange)="onSelectionChange($event)"
    [selectAll]="selectAll"
    (selectAllChange)="onSelectAllChange($event)"
    [paginator]="true"
    [rows]="10"
    [totalRecords]="totalRecords"
    [loading]="loading"
    [globalFilterFields]="['code', 'name', 'action']"
>
    <ng-template pTemplate="header">
        <tr>
            <th style="width: 4rem">
                <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
            </th>
            <th pSortableColumn="product.code">Code <p-sortIcon field="product.code"></p-sortIcon></th>
            <th pSortableColumn="product.name">Name <p-sortIcon field="product.name"></p-sortIcon></th>

        </tr>
        <tr>
            <th style="width: 4rem">
               
            </th>
            <th>
                <p-columnFilter type="text" field="product.code"></p-columnFilter>
            </th>
            <th>
                <p-columnFilter type="text" field="product.name"></p-columnFilter>
            </th>
            <th></th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product>
        <tr>
            <td>
                <p-tableCheckbox [value]="product"></p-tableCheckbox>
            </td>
            <td>{{ product.code }}</td>
            <td>{{ product.name }}</td>
            <td><button>Modifier</button></td>
        </tr>
    </ng-template>
    
</p-table>
